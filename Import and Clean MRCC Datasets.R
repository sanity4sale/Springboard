## Cleaning Data from The Midwestern Regional Climate Center

#### The Midwestern Regional Climate Center (MRCC) provides free access to 
#### Midwestern U.S. climate data via their online cli-MATE portal:

#### http://mrcc.isws.illinois.edu/CLIMATE/index.jsp

## The code below will convert a raw “Daily-Observed / Between Two Dates” dataset into an R-ready dataset.

import_file <- ""

## Strip unformatted header data + import data as characters;

dirty <- read.csv(import_file, skip = 7, colClasses = c(rep("character",7)), header = TRUE)

## Strip unformatted tail data + extra column;

clean <- head(dirty, -14)
clean <- clean[,-8]
rm(dirty)

## Convert "missing" data to "NA";

clean[clean == "M"] <- NA

## Convert to date OR numeric; 

clean[,1] <- as.Date(clean[,1], "%Y-%m-%d")
clean[,c(2:7)] <- as.data.frame(sapply(clean[,c(2:7)], as.numeric))
clean[,7] <- NULL

## Rename file + remove supportive data frames; 

new_name <- sub(" SD_b2dates.csv", "", import_file)
new_name <- gsub(" ", "_", new_name)
assign(new_name, clean)
rm(new_name)
rm(clean)
rm(import_file)